simpleavs.settings:
  path: '/admin/config/simpleavs'
  defaults:
    _form: '\Drupal\simpleavs\Form\AgeGateSettingsForm'
    _title: 'SimpleAVS'
  requirements:
    _permission: 'administer simpleavs'

simpleavs.verify:
  path: '/simpleavs/verify'
  defaults:
    _controller: '\Drupal\simpleavs\Controller\AgeGateController::verify'
  requirements:
    # Open by design: one-time, session-bound token required; controller validates payload.
    # phpcs:ignore Drupal.Semantics.OpenPageCallbacks
    _access: 'TRUE'
  options:
    _format: 'json'
    no_cache: TRUE

simpleavs.token:
  path: '/simpleavs/token'
  defaults:
    _controller: '\Drupal\simpleavs\Controller\AgeGateController::token'
  requirements:
    # Open by design: only issues a one-time, session-bound token; no sensitive data returned.
    # phpcs:ignore Drupal.Semantics.OpenPageCallbacks
    _access: 'TRUE'
  options:
    _format: 'json'
    no_cache: TRUE
